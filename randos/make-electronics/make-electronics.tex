\documentclass[11pt, oneside]{amsart}

\usepackage{geometry}
\geometry{letterpaper}

\usepackage{ned-common}
\usepackage{ned-calculus}

\begin{document}

\title{Make Electronics}
\maketitle

\section{Ch 1: The Basics}

\begin{enumerate}
  \item Multimeters are either \define{manual} or \define{auto-ranging}.
  Auto-ranging can take a second, so the author prefers manual.

  \item Will measure volts, amps, ohms. Can offer continuity testing (to
  see if circuit is connected). Higher end models can measure
  capacitance, test transistors (you plug the ends in the holes).

  \item The author suggests double-ended banana clips. This is handy for
  freeing up hands.

  \item \define{Potentiometers} vary resistance. A \define{fuse} blows
  if the current is too great.

  \item They suggest a first experiment of licking a 9 volt battery.
  This presumably doesn't hit you with too much current because the
  resistance is relatively high. Also: probably the battery has a
  reaction rate limit that constricts amperage?

  \item \define{Voltage} is the energy liberated per electron traveling
  from one side of a battery to another. \define{Current} is number of
  charges passing over a point per second.

  \item Materials have \define{resistivity}, which is the amount of
  \define{resistance} they provide current per unit of cross-sectional
  area. Resistance is derived from voltage and current. Why materials
  resist current/where resistivity comes from is a mystery to me at
  present.

  \item In the \define{hydraulic analogy}, voltage is like pressure.
  Gasses don't like to be under pressure, and they wish to expand to
  release stored energy. The greater the pressure, the greater the force
  exerted on the container.

  \item Recall that \define{work} (the energy expended) is the integral
  of force acting through a distance. Which is to say: the greater the
  pressure energy, the greater the force that will be acted upon in the
  same distance.  Which means, through the same distance, the force
  applied is greater, meaning greater acceleration of the particle being
  acted upon.

  \item Which explains why high pressures want to accelerate substances
  to high velocity. They are \define{resisted} presumably by
  \define{turbulence}, which is presumably from imperfections in the
  walls of the pipes the gas expands.

  \item A last note: the resistance doesn't change the number of
  electrons that will travel. Higher resistance doesn't mean that an
  electron must do more work to get through the material. It simply
  means that an electron can only accelerate to a certain speed. Which
  limits the rate of energy expenditure. That is: the \define{power}
  consumption of the circuit.

  \item 120 volts is standard in the US. 240 volt is for heavy-duty
  appliances. Household appliances may draw up to 2 amps maybe. Circuit
  breakers cut amperage at 20 amps.

  \item We did blow a fuse! It was fun!

  \item \define{Direct current} constantly pushes electrons from side to
  the other. \define{Alternating current} is generated by generators,
  and switches the voltage from one side to the other. 60hz is common.
  Generators induce current by spinning through a magnetic field.

  \item Right plug of outlet is hot, while left is neutral. The third
  hole is the electrical ground. Should AC have polarity? I think the
  idea is that there is a positive/negative draw on the hot plug,
  relative to both the neutral and ground plugs. But the ground plug is
  (I think) used to dump current rather than send current through the
  circuit to the neutral plug.

  \item Resistor marking is: Digit 1, Digit 2, Num Zeroes, Tolerance.

  \item LED wants positive power on the longer leg. There is a
  \emph{forward voltage} limit and a \emph{forward current} limit.
  Violating either of these will damage the LED.

  \item The greater resistors, when wired into series with the LED,
  result in less light from the LED. Less resistance means more light.

  \item Common breakpoints for resistors: 1.0, 1.5, 2.2, 3.3, 4.7, 6.8,
  10.0. These correspond to plus-or-minus 20\% tolerance.

  \item We pry open a potentiometer. We can see it's just a wiper
  running a long a resistive track. We have a three-prong version. As
  the wiper gets closer to the left prong, it gets farther from the
  right prong.

  \item We then use the potentiometer to control lighting the LED. But
  we also let it send too much current and burn out the LED. So we
  really want a resistor plus a potentiometer so that the current never
  runs above a certain limit.

  \item An LED with too little voltage will not even light up at all. It
  needs a threshold voltage. Measuring the LED voltage drop shows it
  consumes 2.1V when wired with the 470 ohm resistor.

  \item But if I increase the resistance of the potentiometer so that
  it's a total 1.47kÎ© resistance, then the voltage consumed by the LED
  drops. If I plug it into the diode measurer, it measures 1.3V drop.

  \item I believe that the LED needs to consume 1.3V to light at all.
  That's the threshold. As you try to run more and more current through
  the LED, the LED will rise in resistance to try to block that current.
  But if the voltage is too high, the current will be too great to
  resist, and the LED will break down.

  \item The LED won't let any current pass until you hit a voltage
  floor. Then, it will allow current to pass with very little
  resistance. If you run too much current, you'll burn out the LED. The
  amount of light that is output by the LED depends on the amount of
  current being pushed through.

  % Note: I think that there is no real limit on the voltage applied to
  % the LED, provided you use an appropriate resistor. I believe the
  % voltage limit is really just: (1) the voltage floor, plus (2) the
  % amount of voltage to push the max-safe current through the LED's
  % intrinsic resistance.
  %
  % Source:
  % https://electronics.stackexchange.com/questions/151627/why-does-an-led-have-a-maximum-voltage/151653

  \item \TODO{How do LEDs actually work?}

  \item Note: if a potentiometer is in series with a fixed resistor, the
  voltage drop across the resistor will increase as we turn down the
  potentiometer. That's because the battery voltage is constant.

  \item With the LED in series with potentiometer, as you turn up
  resistance on the potentiometer, the LED potential drop is
  less-and-less. That is expected. Once the voltage available to the LED
  drops below a fixed amount, the current will stop entirely, though.

  \item I guess that while a resistor consumes energy to push through
  electrons at a rate, an LED consumes energy to push electrons across
  \emph{at all}.

  \item This is \emph{Ohm's Law}: $V = IR$.

  \item Here is a thought. A resistor is like a crowded ballroom. If you
  snake your way through it, not pushing anyone, you can get through
  slowly with little energy. Or you can barrel through and push you way
  by and get through faster. But the faster you want to go, you must use
  more energy.

  \item An LED, on the other hand, is like a staircase. You must expend
  energy to travel up at all. But the speed of travel is irrelevant. An
  LED then, has a nonlinear resistance. It appears infinite at low
  voltage, but appears zero above the threshold voltage. Of course, it
  is not ideal: as current rises, the energy needed to push through will
  also rise.

  \item When you wire two resisters in parallel, then the effective
  resistance is halved. This is because to push a current of $I$ through
  the parallel pair, only $\frac{I}{2}$ current must go through each
  resistor. And thus only half the energy per charge must be used.

  \item They do a useful calculation. Say you have an LED which is
  specified to want a forward voltage of 2V, at which point it will pass
  a current of 20mA. How big a resistor must you use with a 9V battery?

  \item They say: the resistor should drop the voltage by 7V. It should
  pass a current of 20mA. If you do the math, you want a resistance of
  350 ohms.

  \item They mention that even a low-resistance wire (say: 0.2 ohm) will
  draw a lot of power if you run a large current (say 15A). This will
  consume 3V of the voltage. If you're running a 12V battery,
  approximately 1/4 of the energy is being lost to the wire!

  \item We may make an observation about \emph{power}. Power is the
  \emph{amount of energy released/consumed per second}. A high voltage
  source attached to a high resistance component will use all its energy
  to move a charge across the component. But the great resistance means
  that a small amount of current will travel, so only a small amount of
  energy will be consumed per second.

  \item As in: $P = V I = I^2 R = V^2 / R$.

  \item For reference: a car battery delivers \emph{hundreds of amps}!

  \item BTW, resistors are rated by \emph{wattage}. This is implicitly a
  measure of how much current they can allow to pass, so I don't know
  why this isn't simply measured in amps?

  \item As a (mistaken) convention, we imagine that electricity travels
  from positive to negative. Arrows point positive to negative. Positive
  pole is marked as red, negative as black.

  \section{Ch2: Switching}

  \item Solid core 22-gauge hookup wire is what we'll use. They mention
  that you could buy stranded wire, which is useful in some
  circumstances, but frustrating with the breadboard. Likewise, you can
  buy precut jumpers, but he doesn't like the color coding. And you can
  even get jumpers with plugs, but he finds those messy.

  \item Components: toggle switch (single-pole, double throw), tactile
  switch (AKA, a button), relay (nonlatching type). Trimmer
  potentiometers are simply potentiometers that plug into a breadboard.
  Transistors. Ceramic and electrolytic capacitors.

  \item A SPDT switch has three junctions. One is always connected, and
  of the other two only one is engaged. This is how a pair of light
  switches can be wired together so that only when both are thrown the
  same way does the light turn on.

  \item A DP switch has two \emph{poles}. That means when the switch is
  closed both poles close and two circuits are made. A DPST is what you
  see in movies.

  \item Pushbottons can be NO (normally open) or NC (normally closed).
  Maybe an NO button would be a doorbell.

  \item Schematic for resistor is a squiggle line. A battery is a short
  and longer parallel line; the longer one is positive. A diode is an
  arrow into a parallel line. Some diagonal lines show this is an LED.

  \item Voltage or a circuit is sometimes labeled $V_c$ or $V_{cc}$. It
  is common to label the negative terminal as \emph{ground}. There may
  be many ground symbols in a chart (rather than connect them to the
  negative terminal in the diagram).

  \item Here's how grounding works. The third wire leads directly to the
  earth. This is connected to, for instance, the chassis of the device.
  If a charge builds on an ungrounded chasis for whatever reason, and
  you touch touch it, the charge could pass through you to the earth
  (which I guess wants to accept the charge). But if the chassis is
  grounded, (1) the charge won't build up, and (2) you aren't a
  preferred route to discharge the charge because you have higher
  resistance than a direct connection to Earth.

  \item A potentiometer will have a little arrow next to the resistor
  squiggle. A pushbutton has a little plunger.

  \item When unconnected wires must cross in a planar diagram, we don't
  draw a dot. But if they must connect, there \emph{is} a dot.

  \item We did an experiment with a DPDT relay. We threw a switch by
  pressing a button. The voltage supplied to the relay runs a current
  through a wire, generating a magnetic field, and pulling a lever. The
  lever changes an electrical contact from A to B. This connects circuit
  A instead of B.

  \item Other relays are \emph{latching}. They will retain the state.
  Ours is non-latching. Latching relays have four voltage terminals, for
  two inductors.

  \item There is a \emph{coil voltage}. This is the intended voltage to
  apply the coil. There is a \emph{set voltage} which is the minimum at
  which the coil will set. There is a \emph{power consumption} specified
  for the coil to operate at the intended voltage. This can be
  equivalently specified in mA.

  \item Lastly, there is a \emph{switching capacity} which is the
  maximum allowed amps to run through the relay. One presumes this
  should be high, given there should not be much/any resistance to
  current flow.

  \item For Experiment 8 they have us build the relay circuit on the
  breadboard. They have you make jumpers - you strip a little off a
  hookup wire, cut and shift a bit of insulation so the length exposed
  is good, and then clip. Use needle-nose pliers to bend the ends at
  right angles.

  \item I have a dual bus breadboard. The bus runs along the side of the
  breadboard. It is used to distribute power. Each row is connected,
  except for a break in the middle.

  \item We get the relay to ``buzz'' by connecting the tactile switch
  from the typical output to the inductor. Thus the inductor is only
  activated when the button is depressed. But this cuts power to the
  inductor. The oscillation between the two states causes the relay to
  buzz.
\end{enumerate}

\subsection{Capacitor}

\begin{enumerate}
  \item To slow things down, we attach a capacitor in parallel with the
  inductor. Now, when the switch is depressed, the voltage is used to
  first charge the capacitor. As it charges, the ``resistance'' of the
  capacitor rises (really the voltage difference drops), and thus
  current begins to run through the inductor. This closes the switch.

  \item Now no more charging of the capacitor happens. In fact, it
  begins to \emph{discharge}. The inductor resists the discharging of
  the capacitor. When the capacitor is drained, the gate closes again.

  \item So let's think about the capacitor. It is effectively a
  ``rechargeable battery.'' It is as if two big plates. You can push an
  electron onto one plate. If uncharged, the plate accepts the excess
  electron without too much trouble. To keep things net neutral, an
  electron from the opposing plate is ejected. However, no electrons
  cross the \emph{dielectric} separating the plates.

  \item  If you connect a capacitor to the terminals of a battery, the
  battery pushes electrons onto one plate, while the opposite plate
  sends electrons to the other terminal of the battery. But as electrons
  are pushed onto the capacitor plate, it requires more and more energy
  to push another electron onto the plate. Remember: battery voltage
  \emph{is} simply energy liberated by transfer of electrons. Thus: the
  capacitor is gaining voltage as it charges (accepts electrons).

  \item The charging will stop when the voltage of the capacitor reaches
  the voltage of the battery. If the battery is too strong for the
  capacitor, the buildup of electrons on one plate will become so great
  that they will start to jump across the dielectric. This will destroy
  the capacitor.

  \item Consider the \emph{rate} of charging. As the capacitor accepts
  more and more charge, it requires more and more energy to fit a next
  electron onto the plate. The energy released by sending an electron
  from the battery terminal to the plate is dropping. At the same time,
  there is some \emph{resistance} in the circuit. Less and less energy
  is available to barrel through a resistor. Thus, as the capacitor
  charges, the current flowing into the capacitor is dropping.

\newcommand{\vbat}{V_\text{bat}}
\newcommand{\vcap}{V_\text{cap}}

  \begin{nedqn}
    \vbat - \vcap(t)
  \eqcol
    I(t) R
  \\
    \fpartial{q} \vcap
  \eqcol
    \inv{C}
    \nedcomment{this is the capacitance}
  \\
    \fpartial{t} \vcap
  \eqcol
    \fpartial{t} q
    \fpartial{q} \vcap
    \nedcomment{chain rule}
  \\
  \eqcol
    \fpartial{t} q \inv{C}
  \\\eqcol
    I(t) \inv{C}
  \\\eqcol
    \frac{\vbat - \vcap(t)}{RC}
  \\
    \fpartial{t} \parens{
      \vbat - \vcap(t)
    }
  \eqcol
    0 - \frac{\vbat - \vcap(t)}{RC}
  \\
    \Delta V
  \eqcol
    \alpha_0
    \expf{-t/RC}
    \nedcomment{solution of diffeq}
  \\
    \alpha_0
  \eqcol
    \vbat
  \end{nedqn}

  \noindent
  And now we see where the exponential charging of capacitors comes
  from!

  \item What I've described assumes a fixed \define{capacitance} $C$.
  The capacitance is defined as the number of charges that will flow
  into the capacitor if each coulomb of charge passing through the
  battery liberates 1 joule. The unit is the \define{Farad}, which is
  coulombs per volt.

  \item The inverse is the \define{elastance}: the voltage required to
  push one coulomb of charge into the capacitor. Note that volts are
  joules per coulomb, so this is joules per coulomb per coulomb. This is
  correct: the elastance is saying that the energy required to push a
  coulomb increases as more coulombs are pushed.

  \item Note: the time it takes to charge the capacitor to a given
  percentage of the battery voltage is based not on the battery voltage
  itself, but on the time constant $RC$. The greater the $R$, the more
  electrons are delayed on their way into the capacitor. The bigger the
  $C$, the more electrons are needed to charge the capacitor by one
  volt.

  \item Note that charging of a capacitor slows over time not because
  capacitance drops, but rather because the voltage stored in the
  capacitor is rising as more coulombs are pushed into the capacitor.

  \item It is not immediately intuitive that capacitance would remain
  fixed. But you could look at it this way: if there is potential energy
  stored in the capacitor, then there is in a sense a ``pressure'' for
  the electrons to escape the capacitor. That is, there is a force being
  exerted for expansion. But the battery charging the capacitor is
  exerting an opposite force: to compress more electrons in the
  capacitor. Any work we do on compression is stored exactly as
  potential energy to resist further compression.

  \item What makes a capacitor dangerous is not necessarily the
  capacitance. Capacitors can have high capacitance by simply having
  huge plates. They can store a lot of charge.

  \item The danger is the \emph{voltage} that the capacitor can
  withstand. Your body can take a large amount of charge passing through
  it at a very slow rate. For instance, you could be connected to a 9V
  battery for the rest of your (long) life. But your body \emph{cannot}
  take being connected to 115V for even a short period of time. A
  capacitor rated for high-voltage is dangerous!!

  \item The analogy is just like a gun. A very light bullet, at a high
  enough speed/energy, can kill you if it is aimed at your heart.
  Likewise, a small amount of charge, if passed through your heart very
  quickly, can kill you.

  \item There are two kinds of capacitors: \emph{ceramic} and
  \emph{electrolytic}. Electrolytics are the tin-can ones. Electrolytic
  capacitors have polarity (long leg is positive!), ceramic capacitors
  don't care. \TODO{How do elecrolytic capacitors work?}

  \item The book has us do an experiment that experimentally verifies
  our charging equation for an RC circuit.

  \item Note: $RC$ is simply \emph{seconds}. $C$ (farads) is coulombs
  per volt, while $R$ (ohms) is volts per amp. We may note that just as
  resistance is volts per amp, so capacitance is volts per coulomb of
  charge. In both cases: more and more energy per charge is needed as
  (1) greater current is transmitted, (2) more charges are stored.

\end{enumerate}

\subsection{Filtering}

\begin{enumerate}

  \item We can use capacitors to act as \emph{filters}. Imagine a
  capacitor wired in series with a circuit.

  \item Imagine a fast switching AC input. The voltage starts high, lets
  say. Voltage starts being stored in the capacitor. At the very start,
  the capacitor has stored zero volts, so it presents no resistance. If
  the capacitor is given time to charge up, it will start to present
  more and more resistance.

  \item However, if the polarity of the input voltage switches quickly
  enough (relative to the time constant $RC$), then a negligible amount
  of voltage gets stored in the capacitor before the polarity flip.

  \item The stored voltage is now \emph{adding} to the newly reversed
  voltage. Again, the effect is small.

  \item Basically, there's some corruption of the signal voltage, but it
  is small. We probably should do a little math to show that the
  corruption is \emph{bounded} by a small epsilon. This takes some
  showing because the voltage stored in the capacitor is oscillating
  over the time. Sometimes the capacitor will have stored voltage in one
  direction, sometimes in another.

  \item Anyway, imagine a more slowly oscillating signal. Now we can see
  that the corruption will be much greater. Because the capacitor has
  time to elet the voltage rise.

  \item Thus as the low-frequency signal slowly switches voltage, we
  expect ``pops'' of high voltage that are quickly attenuated to zero.

  \item Thus a capacitor acts as a \emph{high-pass filter} when we
  wire the load in series with the capacitor.

  \item The goal is to attenuate low frequencies, but preserve high
  frequencies. However, if the time constant is too high, low
  frequencies will not be attenuated fast enough.

  \item Thus, it is problematic if the load (resistance of the circuit)
  is too high. To solve this, we simply wire the circuit \emph{in
  parallel} with a resistor $R$. That is: we have a simple RC circuit,
  with the load wired in parallel with the resistor.

  \item The resistor we've added ensures that the effective resistance
  is never more than $R$. Thus the time constant for charging the
  capacitor is never more than $RC$. This ensures that low-enough
  frequencies are \emph{always} filtered. Depending on how low the
  circuit load is, perhaps higher frequencies might also be attenuated.

  \item To construct a low-pass filter, we want to instead wire the load
  circuit in parallel \emph{with the capacitor}. This ensures that the
  voltage delivered to the circuit is always exactly equal to the
  voltage stored in the capacitor.

  \item I think this also shows how you can do an audio cross-over? By
  simply wiring circuits in parallel with either the resistor or the
  capacitor?

  % https://www.electronics-tutorials.ws/filter/filter_3.html
  % https://www.electronics-tutorials.ws/filter/filter_2.html
\end{enumerate}

\subsection{Transistors}

\begin{enumerate}
  \item They next talk about transistors. The transistor has three legs:
  \emph{collector}, \emph{base}, and \emph{emitter}.

  \item Loosely speaking: the effective resistance of a transistor is
  inversely proportional to the amount of current that passes through
  the base.

  \item They do an example where you hook a 9V battery to the
  collector/emitter. You then complete a circuit by using your finger to
  bridge the 9V positive terminal with the base. Your finger is like 40M
  ohm resistance, so the current passing through is tiny. But the
  transistor allows a much greater current to pass from collector to
  emitter.

  \item There are two types of tranistor: NPN (normal kind) and PNP. The
  NPN switches a positive current, while the PNP switches a negative
  current. That is: the NPN expects a positive input current at the
  base/collector. With the PNP, a negative input current is expected at
  base/collector.

  \item This is a little different from the relay -- the relay expects a
  directionality to the current flowing through the inductor that
  opens/closes the relay, but I don't think it cares which way the
  current flows through the switch itself.

  \item The current that is passed by a transistor from collector to
  emitter is a multiple of the current that is flowing from base to
  emitter. The amplification factor can be measured by the multimeter
  and it is about 200.

  \item You shouldn't try to send too much current through either base
  or collector. Also, you should not try to send current backward from
  the emitter to the collector. That can damage the (NPN) transistor. I
  assume the same is true of sending current backward through the base.

  \item Transistors have longer term reliability (no moving parts), can
  switch faster, and can be asily miniaturized. But transistors cannot
  switch large currents (otherwise they'll be damaged). They also can't
  switch \emph{alternating current} (because you can't send current
  backward through them).

  \item \TODO{How does a transistor actually work?} Specifically, does
  it amplify the current, or does it amplify the voltage? I believe the
  answer is that it is \emph{current controlled.} But I don't have a
  mental model for this...
\end{enumerate}

\end{document}
