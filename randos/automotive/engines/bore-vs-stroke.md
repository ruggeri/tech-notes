- Bore is the diameter of the cylinder.
- Stroke is the length of the cylinder.
- A square engine has bore equal to stroke. An oversquare engine has a
  bore greater than stroke. An undersquare engine has a stroker longer
  than the bore.
  - Note that the square the bore (proportional to cylinder
    cross-sectional area) is more comparable to the stroke than simply
    the bore (a one dimensional diameter)...
- Typically we see race-optimized engines have a greater bore
  (oversquare) and "torque" optimized engines have a longer stroke
  (undersquare).

## Number of Cylinders

- There are a number of advantages of multiple cylinders: better
  balance, smoother power delivery. And also higher power output per
  unit of displacement.
- So while multi-cylinder engines might not all be tuned for high RPM
  performance, it is something they can be good at.
- Whereas we will see that twins might run out of RPM limit to really
  make a lot of power at a given displacement. So they might be tuned
  more for broad and low torque, rather than try to make them do
  something they are not good at (high RPM and maximum power).

## Connecting Rod Forces

- As you increase stroke, the peak acceleration of the piston increases
  linearly. That stresses the connecting rod. One redline limit comes
  from when the piston going faster would tear apart the connecting rod.
  So engines with longer stroke will have lower redline.
- Consider bore. As you increase bore, you increase the mass of the
  piston. If you accelerate the piston head the same, but the piston is
  more massive, then the force trying to tear the connecting rod apart
  is also increasing.
- But the mass of the piston **scales less than linearly** in the square
  of bore. That's because many of the components of the piston mass
  don't change. The crown changes less than you think, because
  combustion pressure is less, so crown can be made thinner. Piston
  skirt basically stays the same.
- So basically: it's easier to make an undersquare engine rev higher
  without tearing the rod apart. High performance engines do use premium
  rod materials so this is clearly an important factor.
- Note: an engine with an undersquare design will make more engine
  torque because of the length of the crank. But this doesn't change the
  _shape_ of the torque curve, which is what we will later identify
  matters. A single engine torque number doesn't really matter; because
  this can always be adjusted by gearing. It's the shape of the torque
  curve that matters.

## Air Flow

- Fundamentally, your engine needs to breathe to make power. If it can
  theoretically rev high but you can't get enough fresh air in, then it
  doesn't matter.
- Larger bore means you can put more and larger ports on the engine. So
  the engine can fill with air more efficiently on intake stroke. An
  engine that breathes better can rev higher and make use of more air.
- I believe if you have more intake ports, you can lift them more easily
  with lighter springs. The speed at which you can open and close valves
  also limits redline.
  - Lighter valves means valve float doesn't become a problem until
    higher RPM.

## Review of Torquey/Peaky Torque Curves

- So it sounds like because of conn rod forces and more/larger ports,
  oversquare engines (with big bores) will produce more horsepower than
  equivalent displacement undersquare (long stroke) engines. And that is
  basically true.
- But obviously undersquare engines _are_ made (especially for
  cruisers), and they have a reputation as being "torquier".
- Elsewhere I believe I have discussed what being "torquier" means.
  Basically: it's the idea of having a wider RPM band of significant
  torque. A wide RPM band where the engine is doing a lot of work per
  revolution.
- I want to be clear: "torquey" doesn't necessarily mean peak torque is
  super high. When comparing two torque curves, at any RPM where a bike
  has higher torque, it will also be making more HP. So power and torque
  kind of come hand-in-hand.
  - The exception is that you can make higher horsepower even at low
    torques if you can rev high enough.
- A typical long stroke twin might have a usable torque range of 2k-6k
  RPM.
- When you have a wide band like that, you don't need as many gears, or
  you can have them more widely spaced. As long as you aren't running at
  the end of the power band, you can accelerate longer simply by
  twisting the throttle.
- A peakier engine like a supersport might have a power band of near
  maximum work per revolution (i.e., max torque) of 10k-14k RPM.
- So a big twin might pull 20mph to 60mph without changing gears,
  whereas you'd need to change gears _three times_ on a supersport (with
  gear spacing of less than 1.4x) if you want to stay in the power band.
- So on a supersport, it's easier to be in the "wrong" gear, fall
  outside the power band, and have significantly suboptimal
  torque/power. On the other hand, supersports tend to make _more power
  in the powerband_, which means that they perform better within the
  band.
- Because supersports make more power, they often are designed to hit
  higher speeds (because more power means you can overcome more drag).
  But if your powerband only allows 1.4x acceleration before shifting
  gears, you'd need 7-8 gears in order to accelerate optimally from
  10mph to 140mph.
  - ChatGPT ran the numbers on a Yamaha R6. In first gear, you only hit
    start of power band at about 78mph. It was same for Kawasaki ZX-6R
    and Honda CBR600RR.
  - So at speeds less than 78mph, you aren't really making much power on
    a peaky supersport. So around town the engine feels weak.
  - This isn't a problem on the track, because at no point are you going
    less than 80mph.
- Alternatively, ChatGPT calculated a Harley 114 Softail is entering the
  power band in 1st at about 13-16mph. The Kawi Vulcan hits power band
  at 14mph. Harley 114 has top speed of 120MPH in 6th. So top speed is
  less, and power band is wider, so we don't need as many gears, or we
  can use more gears and put them closer so that even shifting early
  before redline won't throw you totally off the power band. That's
  easier for riding.

## Why Might Longer Strokes Be More Torquey?

- Basically: why would longer strokes make near-optimal work per
  revolution over a wider relative RPM range than an oversquare engine?
- One problem is: at the same RPM, an oversquare engine with big intake
  ports will suck air in at a lower velocity than compared to an
  undersquare engine with small ports.
- Why does that matter if the _volume_ of air breathed is the same?
  Because air needs to swirl and tumble to mix the fuel and air for good
  combustion.
- Also, please note that valve timing is set on undersquare engines so
  that intake stays open even after piston reaches BDC and starts to
  rise. At high air velocity, due to inertia, the flow will actually
  continue to pack air into the cylinder (even as piston rises),
  increasing efficiency.
- But at low RPM, the air will start to get pushed out! This is a reason
  why work done per revolution will drop for supersports operating at
  low RPM.
- There is also the question of valve overlap: the exhaust and intake
  valves may both be open at the same time on supersports! Why? At end
  of combustion cycle, you open exhaust, and start flowing exhaust. But
  then you open the intake slightly before start of intake stroke.
  Because of inertia of flow, this starts pulling air from the intake
  into the cylinder.
  - At low RPM, the intake and exhaust ports will both be open for a
    longer duration.
  - And the flow rate out the exhaust will not be very significant.
  - So valve overlap can easily result in exhaust being pushed back into
    the intake, which is very bad!
- You will sometimes see the words "volumetric efficiency." This is
  ratio of the volume of air (at standard pressure?) breathed by an
  engine relative to the volume of the cylinder. To do a lot of work per
  revolution, you need high VE (as close to 100% as you can). You can
  even use turbos or superchargers to try to get VE above 100%. But it's
  not easy to make an engine with high VE across a broad range, while
  maximizing maximum power.
  - One solution is **variable valve timing**. This shifts between a low
    and a high RPM valve timing, allowing a best of both worlds...

## Sources To Review

- https://www.youtube.com/watch?v=UV3RwBPqznU
  - EE modern discussion on bore and stroke. TO REVIEW
- https://www.youtube.com/watch?v=j8DSBH2GG8s
  - D4A on Bore vs Stroke, TO REVIEW
- https://www.cycleworld.com/story/blogs/ask-kevin/how-motorcycle-cylinder-bore-stroke-affect-engine-performance/
  - Kevin Cameron in Cycle World.

## TODO: Old Engineering Explained Notes To Re-integrate

- https://www.youtube.com/watch?v=UV3RwBPqznU
  - Engineering Explained.
  - Bore vs Stroke
  - Oversquare = short stroke/larger bore, undersquare = longer
    stroke/smaller bore.
  - It seems like it shouldn't make a difference? Isn't just engine
    displacement what matters?
  - He seems to indicate that the limitation is on piston speed. That
    would suggest a shorter stroke will allow you to achieve higher RPM.
  - But isn't the limitation on _force_ on the conrod? I believe I
    showed this should be constant for a given displacement and RPM.
  - With a shorter stroke, you can travel the necessary distance in a
    shorter period of time (assuming maximum piston velocity is held
    constant). If piston velocity is the problem, then you'll achieve
    higher RPM for the same piston velocity if the stroke is shorter.
    - Maybe velocity is a problem: like from friction on the sides?
  - Certainly you can fit larger valves on a larger bore.
    - **TODO**: He notes that large valves might be bad at low RPM. Why?
  - He notes that the shape of the volume left for combustion at
    ignition is most square shaped for oversquare designs. This means
    that there is the least surface area for transmitting heat. That
    means more energy is turned into expansion of the cylinder, which
    means higher efficiency.
  - He also notes that it's easier to burn all the fuel quicker in a
    more cube shaped volume because the flame front can travel out in
    more directions more easily. This is preferable because you want
    maximum force to be generated from the very top.

Wait.

Consider the position of the piston:

```
cylinder_displacement = pi * (bore_diameter / 2)^2 * stroke_length
      ~ bore_diameter^2 * stroke_length

position = stroke_length + 1/2 * stroke_length * cos(omega t)
velocity = 1/2 * stroke_length * omega * cos(omega t)
acceleration = 1/2 * stroke_length * omega^2 * cos(omega t)

RPM = omega / 2PI

max velocity ~ stroke_length * RPM
max acceleration ~ stroke_length * RPM^2

## Assumption about piston mass
m ~ pi * (bore_diameter / 2)^2

## Let's consider the centripetal force required to keep the piston
## spinning at a target RPM.
max F = m * max acceleration
      ~ bore_diameter^2 * stroke_length * RPM^2
      ~ cylinder_displacement * RPM^2

## Thus, the force to make a piston travel at a target RPM does not
## depend on stroke or bore, but only the displacement.
##
## If we are worried about force breaking the connecting rod, we can see
## that twiddling the stroke/bore ratio does not matter.

## However, we can also see that decreasing a cylinder's displacement
## will allow it to rev to higher RPM.
```
