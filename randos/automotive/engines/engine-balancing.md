The easiest imbalance to counteract is a primary translational imbalance
of constant norm that rotates direction at the rate of the crankshaft.
This can be counteracted by a crankshaft counterweight. If necessary, to
avoid creating a torque, you would want to use two counterweights that
straddle the CoM. You might use this strategy with a 90deg V-twin.

Next, let's try to counteract a primary translational imbalance that
varies sinusoidally along a single axis. You want to spin two
counterweights in opposite directions. This requires two balancing
shafts. Each counterweight should be weighted/positioned to offset half
the force you want to counteract. The two weights need to run in
opposite directions so that one dimension of the centripetal force is
canceled, while the other is constructively amplified. You could need
something like this for a 360deg or 270deg twin, a T-Plane triple, or a
crossplane I4.

To counteract secondary forces, you need a balancing shaft that runs at
2x the crankshaft speed. You might want these on an I4 to counteract
secondary vibration.

Let's correct a torque. You should be able to put two counterweights on
a shaft (straddling the CoM), at a angle of 180deg. This will create a
torque that rotates about the axis of the shaft. Again, if the torque
only varies sinusoidally in amplitude in one direction, you need to run
two balance shafts in opposite directions. You might want to do this on
a triple.
