\newcommand{\mtx}[1]{
  \mathrmbold{#1}
}

% Would be great if this worked for n-dimensional matrices right?
\newcommand{\diagonal}[3]{
  \begin{bmatrix}
    #1 \\
      &#2 \\
      &  &\ddots \\
      &  & & #3
  \end{bmatrix}
}

%% Spaces Of Matrices

\newcommand{\mtxspace}[1]{
  \reals^{#1 \times #1}
}

%% Common Matrices

% Macro to make matrix macros!
%
% TODO: understand expandafter and csname better!
\newcommand{\newmtx}[1]{
  \expandafter\newcommand\csname mtx#1\endcsname{\mtx{#1}}
  \expandafter\newcommand\csname m#1\endcsname{\mtx#1}
}

\newmtx{A}
\newmtx{B}
\newmtx{C}
\newmtx{D}
\newmtx{I}
\newmtx{K}
\newmtx{L}
\newmtx{P}
\newmtx{Q}
\newmtx{R}
\newmtx{U}
\newmtx{X}
\newmtx{Y}

%% Common Inverted Matrices

\newcommand{\newMtxInverse}[1]{
  \expandafter\newcommand\csname mtx#1inv\endcsname{\inv{\mtx#1}}
  \expandafter\newcommand\csname m#1inv\endcsname{\inv{\mtx#1}}
}

\newMtxInverse{A}
\newMtxInverse{B}
\newMtxInverse{C}
\newMtxInverse{D}
\newMtxInverse{L}
\newMtxInverse{R}
\newMtxInverse{X}
\newMtxInverse{Y}

%% Common Matrix Rotations

\newcommand{\mtxQtAQ}{\mtxQt\mtxA\mtxQ}

%% Common Transposed Matrices

% TODO: Technically I want \mAt to call \mtxAt...
\newcommand{\newMtxTranspose}[1]{
  \expandafter\newcommand\csname mtx#1t\endcsname{\mtx#1\tran}
  \expandafter\newcommand\csname m#1t\endcsname{\mtx#1\tran}
}

\newMtxTranspose{A}
\newMtxTranspose{B}
\newMtxTranspose{C}
\newMtxTranspose{Q}
\newMtxTranspose{R}
\newMtxTranspose{U}

%% Common Matrix Products

\newcommand{\mtxAtA}{\mtxAt\mtxA}
\newcommand{\mtxAAt}{\mtxA\mtxAt}
\newcommand{\mtxAB}{\mtxA\mtxB}
\newcommand{\mtxBA}{\mtxB\mtxA}
\newcommand{\mtxDQ}{\mtxD\mtxQ}
\newcommand{\mtxQD}{\mtxQ\mtxD}
\newcommand{\mtxUD}{\mtxU\mtxD}

%% Common Matrix Decompositions

\newcommand{\mLU}{\mtxL\mtxU}
\newcommand{\mtxLU}{\mtxL\mtxU}

\newcommand{\mLDU}{\mtxL\mtxD\mtxU}
\newcommand{\mtxLDU}{\mtxL\mtxD\mtxU}

\newcommand{\mQDQt}{\mtxQ\mtxD\mtxQt}
\newcommand{\mtxQDQt}{\mtxQ\mtxD\mtxQt}

\newcommand{\mQtDQ}{\mtxQt\mtxD\mtxQ}
\newcommand{\mtxQtDQ}{\mtxQt\mtxD\mtxQ}

\newcommand{\mQDUt}{\mtxQ\mtxD\mtxUt}
\newcommand{\mtxQDUt}{\mtxQ\mtxD\mtxUt}

\newcommand{\mQR}{\mtxQ\mtxR}
\newcommand{\mtxQR}{\mtxQ\mtxR}

\newcommand{\mUDQt}{\mtxU\mtxD\mtxQt}
\newcommand{\mtxUDQt}{\mtxU\mtxD\mtxQt}
