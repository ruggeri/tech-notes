\ProvidesPackage{ruggeri_common}

%% Commonly used libraries.

% AMS libs
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
% Needed for \intertext in IEEE?
\usepackage{etoolbox}
% For IEEEeqnarray
\usepackage{IEEEtrantools}
\usepackage{mathtools}

%% Binary Operators

\newcommand{\defeq}{\coloneqq}
\newcommand{\minuseq}{\mathrel{-}=}

%% Calculus

% Partial derivatives.
\newcommand{\fpartial}[2]{\frac{\partial #1}{\partial #2}}
\newcommand{\fptheta}{\fpartial{}{\theta}}
\newcommand{\fpthetax}{\fpartial{}{\theta^2}}

%% Common Sets

\newcommand{\setof}[1]{\left\{ #1 \right\}}
\newcommand{\reals}{\mathbb{R}}

%% Misc

\newcommand{\define}[1]{\textit{#1}}

% Weird patch to fix intertext and IEEEeqnarray.
% Source: https://tex.stackexchange.com/questions/303542/is-there-an-intertext-equivalent-for-ieeeeqnarray
\makeatletter
\patchcmd{\@IEEEeqnarray}{\relax}{\relax\intertext@}{}{}
\makeatother

% nedqn is a wrapper for IEEEeqnarray, which is too long for me to %
% bother typing... But of course one can always fall back in more
% complicated scenarios.

\newenvironment{nedqn}{
  \begin{IEEEeqnarray*}{rCl}
}{
  \end{IEEEeqnarray*}
}

%% Theorem Environments

\theoremstyle{plain} \newtheorem{theorem}{Theorem}
% Lemmas should use same count as theorems.
\theoremstyle{plain} \newtheorem{lemma}[theorem]{Lemma}
